---
sidebar_position: 12
---

# 作用域

作用域表示一个代码区域,也表示一个运行环境;JS中,有两种作用域,**全局作用域**和**函数作用域**;ES6又新增一种作用域,叫**块级作用域**.

## 全局作用域

- 位置：直接在脚本中书写的代码

- 特点：在全局作用域中声明的变量,会被提升到脚本块的顶部,且会成为全局对象的属性.

## 函数作用域

- 位置：函数中的代码

- 特点：在函数作用域中声明的变量 (**未声明就赋值的变量也会成为全局对象添加属性**) ,会被提升到函数的顶部,并且不会成为全局对象的属性.

- 优点：函数中声明的变量不会导致全局对象的污染,尽量的把功能封装在函数中;但是,当函数成为一个表达式时,它既不会提升,也不会污染全局对象.

- 将函数变为一个函数表达式的方式

    - 函数用小括号括起来：这样的表达式的返回结果是该函数本身.然而,这样一来,函数无法通过名称调用.
        
    ```jsx
    (**function test(){console.log(1);})
    test();//报错,test未定义**
    ```
        
    - 如果书写一个函数表达式,然后将立即调用,该函数称之为 **立即执行函数 IIFE** (Immediately Invoked Function Expression).
    
    - 函数可以作为表达式中的数据部分,即函数表达式
        
    ```js
    var a = function test(){
        console.log(1);
    };

    test(); //报错,test未定义
    ```
        
    
    :::tip

    由于大部分情况下,函数表达式的函数名没有实际意义,因此,可以省略函数名(也就是说如果该函数没有函数名并不影响整个程序,大部分情况下都是函数表达式).没有名字的函数,称之为**匿名函数**.
    
    :::
    
    :::tip

    自己理解,只要这个函数可以没有名字(或者去掉名字不影响),则他就是函数表达式
    
    :::
    

## 作用域中可以使用的变量

- 全局作用域只能使用全局作用域中声明的变量(包括函数)

- 函数作用域不仅能使用自身作用域中声明的变量(包括函数),还能使用外部环境的变量(包括函数)

- 函数内部声明的变量和外部冲突时,使用内部的

:::tip

有的时候,某个函数比较复杂,在编写的过程,可能需要另外一些函数来辅助它完成一些功能,而这些函数仅仅会被该函数使用,不会在其他位置使用,则可以将这些函数声明到该函数的内部.

:::